{"version":3,"sources":["Componnent/Searchbar/Searchbar.module.css","App.module.css","Componnent/ImageGalleryItem/ImageGalleryItem.module.css","Componnent/Modal/Modal.module.css","Componnent/ImageGallery/ImageGallery.module.css","Componnent/Button/Button.module.css","Componnent/Searchbar/Searchbar.js","Componnent/ImageGalleryItem/ImageGalleryItem.js","Componnent/ImageGallery/ImageGallery.js","Componnent/Button/Button.js","Componnent/Loader/Loader.js","Componnent/Modal/Modal.js","App.js","Componnent/Services/images-api.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","search","setSearch","className","styles","e","preventDefault","trim","toast","error","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","name","onChange","currentTarget","toLowerCase","ImageGalleryItem","image","openModal","webformatURL","tags","id","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","Button","fetchImages","Loader","MODAL_ROOT","document","querySelector","Modal","onClose","children","handleKeyPress","code","useEffect","window","addEventListener","removeEventListener","createPortal","Overlay","target","role","App","setImages","pageNumber","setPageNumber","setError","isLoading","setIsLoading","isModalOpen","setIsModalOpen","largeImageId","setLargeImageId","scroll","query","fetch","then","res","json","data","hits","length","Error","imagesApi","arr","prevState","catch","finally","firstLoadedImage","scrollTo","top","documentElement","scrollHeight","behavior","findPic","find","Number","Warning","largeImageURL","position","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5802653f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__22sR3\",\"SearchForm\":\"Searchbar_SearchForm__36byA\",\"SearchFormButton\":\"Searchbar_SearchFormButton__20uS0\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3PjGl\",\"SearchFormInput\":\"Searchbar_SearchFormInput__26ak7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"App_error__1USBH\",\"Warning\":\"App_Warning__3MWaG\",\"App\":\"App_App__31P3o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__318tf\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2k3R1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1y15L\",\"Modal\":\"Modal_Modal__3FvU5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery___amz4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2YquO\"};","import { useState } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport styles from '../Searchbar/Searchbar.module.css';\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [search, setSearch] = useState('');\r\n\r\n  const handleChange = e => {\r\n    setSearch(e.currentTarget.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (search.trim() === '') {\r\n      return toast.error('Enter your request.');\r\n    }\r\n    onSubmit(search);\r\n    setSearch('');\r\n  };\r\n\r\n  return (\r\n    <header className={styles.Searchbar}>\r\n      <form onSubmit={handleSubmit} className={styles.SearchForm}>\r\n        <button type=\"submit\" className={styles.SearchFormButton}>\r\n          <span className={styles.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={search}\r\n          name=\"search\"\r\n          onChange={handleChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ image, openModal }) => {\r\n  const { webformatURL, tags } = image;\r\n\r\n  return (\r\n    <li id={image.id} onClick={openModal} className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.shape({\r\n    webformatURL: PropTypes.string,\r\n  }),\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, openModal }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {images.map(image => (\r\n        <ImageGalleryItem openModal={openModal} key={image.id} image={image} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ fetchImages }) => (\r\n  <button type=\"button\" className={styles.Button} onClick={fetchImages}>\r\n    Load more...\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import React from 'react';\r\n\r\nconst Loader = () => <div>Loading...</div>;\r\n\r\nexport default Loader;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nconst MODAL_ROOT = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ onClose, children }) {\r\n  Modal.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    children: PropTypes.node.isRequired,\r\n  };\r\n\r\n  const handleKeyPress = e => {\r\n    if (e.code !== 'Escape') {\r\n      return;\r\n    }\r\n    onClose();\r\n  };\r\n\r\n  const handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyPress);\r\n    return () => window.removeEventListener('keydown', handleKeyPress);\r\n  });\r\n\r\n  return createPortal(\r\n    <div\r\n      className={styles.Overlay}\r\n      onClick={handleBackdropClick}\r\n      role=\"presentation\"\r\n    >\r\n      <div className={styles.Modal}>{children}</div>\r\n    </div>,\r\n    MODAL_ROOT,\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Searchbar from './Componnent/Searchbar/Searchbar';\r\nimport ImageGallery from './Componnent/ImageGallery/ImageGallery';\r\nimport * as imagesApi from './Componnent/Services/images-api';\r\nimport Button from './Componnent/Button/Button';\r\nimport Loader from './Componnent/Loader/Loader';\r\nimport Modal from './Componnent/Modal/Modal';\r\nimport styles from './App.module.css';\r\n\r\nexport default function App() {\r\n  const [images, setImages] = useState([]);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [search, setSearch] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [largeImageId, setLargeImageId] = useState(null);\r\n  const [largeImage, setLargeImage] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!search) return;\r\n    fetchImages(false);\r\n  }, [search]);\r\n\r\n  const onSearch = search => {\r\n    setSearch(search);\r\n    setImages([]);\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const fetchImagesWithScroll = () => {\r\n    fetchImages(true);\r\n  };\r\n\r\n  const fetchImages = scroll => {\r\n    setIsLoading(true);\r\n    imagesApi\r\n      .fetchImages(search, pageNumber)\r\n      .then(arr => {\r\n        setImages(\r\n          prevState => [...prevState, ...arr],\r\n          setPageNumber(prevState => prevState + 1),\r\n        );\r\n        return arr[0];\r\n      })\r\n\r\n      .catch(error => {\r\n        setError(error);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      })\r\n      .then(firstLoadedImage => {\r\n        if (scroll) {\r\n          const { id } = firstLoadedImage;\r\n          window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: 'smooth',\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  const findPic = () => {\r\n    const largeImg = images.find(image => {\r\n      return image.id === largeImageId;\r\n    });\r\n    return largeImg;\r\n  };\r\n\r\n  const openModal = e => {\r\n    setIsModalOpen(true);\r\n    setLargeImageId(Number(e.currentTarget.id));\r\n  };\r\n  const closeModal = () => setIsModalOpen(false);\r\n\r\n  return (\r\n    <div className={styles.App}>\r\n      {error && (\r\n        <h2 className={styles.error}>No pictures were found for your query</h2>\r\n      )}\r\n      <Searchbar onSubmit={onSearch} />\r\n      <ImageGallery openModal={openModal} images={images} />\r\n      {isLoading && <Loader />}\r\n      {images.length > 0 ? (\r\n        <Button fetchImages={fetchImagesWithScroll} />\r\n      ) : (\r\n        <div className={styles.Warning}>\r\n          You have to write down right word for search\r\n        </div>\r\n      )}\r\n      {isModalOpen && (\r\n        <Modal largeImageId={largeImageId} onClose={closeModal}>\r\n          <img src={findPic().largeImageURL} alt={findPic().tags} />\r\n        </Modal>\r\n      )}\r\n      <ToastContainer position=\"top-center\" autoClose={2000} />\r\n    </div>\r\n  );\r\n}\r\n","export const fetchImages = (query = '', pageNumber = 1) => {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${pageNumber}&key=22516391-185885990a61958acb3a57b33&image_type=photo&orientation=horizontal&per_page=12`,\r\n  )\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      if (data.hits.length === 0) {\r\n        throw new Error(`No photo on search query \"${query}\"`);\r\n      } else {\r\n        return data.hits;\r\n      }\r\n    });\r\n};\r\n\r\nexport { fetchImages as default };\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}