{"version":3,"sources":["Componnent/Searchbar/Searchbar.module.css","App.module.css","Componnent/ImageGalleryItem/ImageGalleryItem.module.css","Componnent/Modal/Modal.module.css","Componnent/ImageGallery/ImageGallery.module.css","Componnent/Button/Button.module.css","Componnent/Searchbar/Searchbar.js","Componnent/ImageGalleryItem/ImageGalleryItem.js","Componnent/ImageGallery/ImageGallery.js","Componnent/Services/images-api.js","Componnent/Button/Button.js","Componnent/Loader/Loader.js","Componnent/Modal/Modal.js","App.js","index.js"],"names":["module","exports","Searchbar","state","search","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","className","styles","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","name","onChange","Component","ImageGalleryItem","image","openModal","webformatURL","tags","id","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","fetchImages","query","pageNumber","fetch","then","res","json","data","hits","length","Error","Button","Loader","MODAL_ROOT","document","querySelector","Modal","backdropRef","createRef","handleKeyPress","console","log","code","onClose","handleBackdropClick","current","target","window","addEventListener","removeEventListener","children","createPortal","Overlay","ref","role","App","isLoading","isModalOpen","largeImageId","largeImage","onSearch","fetchImagesWithScroll","scroll","imagesApi","catch","finally","firstLoadedImage","scrollTo","top","documentElement","scrollHeight","behavior","findPic","find","Number","closeModal","prevProps","prevState","Warning","largeImageURL","position","autoClose","defaultProps","ReactDOM","render","StrictMode","getElementById"],"mappings":"8IACAA,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,iBCAhPD,EAAOC,QAAU,CAAC,MAAQ,mBAAmB,QAAU,qBAAqB,IAAM,mB,iBCAlFD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,gBCAxGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,kBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,gBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,uJCINC,E,4MACnBC,MAAQ,CACNC,OAAQ,I,EAEVC,aAAe,SAAAC,GACb,EAAKC,SAAS,CAAEH,OAAQE,EAAEE,cAAcC,MAAMC,iB,EAGhDC,aAAe,SAAAL,GAEb,GADAA,EAAEM,iBAC+B,KAA7B,EAAKT,MAAMC,OAAOS,OACrB,OAAOC,IAAMC,MAAM,uBAEpB,EAAKC,MAAMC,SAAS,EAAKd,MAAMC,QAC/B,EAAKG,SAAS,CAAEH,OAAQ,M,4CAG1B,WACE,OACE,wBAAQc,UAAWC,IAAOjB,UAA1B,SACE,uBAAMe,SAAUG,KAAKT,aAAcO,UAAWC,IAAOE,WAArD,UACE,wBAAQC,KAAK,SAASJ,UAAWC,IAAOI,iBAAxC,SACE,sBAAML,UAAWC,IAAOK,sBAAxB,sBAGF,uBACEN,UAAWC,IAAOM,gBAClBH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZnB,MAAOW,KAAKjB,MAAMC,OAClByB,KAAK,SACLC,SAAUV,KAAKf,wB,GAjCY0B,a,iBCmBxBC,EApBU,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,UACzBC,EAAuBF,EAAvBE,aAAcC,EAASH,EAATG,KAEtB,OACE,oBAAIC,GAAIJ,EAAMI,GAAIC,QAASJ,EAAWhB,UAAWC,IAAOa,iBAAxD,SACE,qBACEO,IAAKJ,EACLK,IAAKJ,EACLlB,UAAWC,IAAOsB,2B,iBCEXC,EAVM,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,OAAQT,EAAgB,EAAhBA,UAC9B,OACE,oBAAIhB,UAAWC,IAAOuB,aAAtB,SACGC,EAAOC,KAAI,SAAAX,GAAK,OACf,cAAC,EAAD,CAAkBC,UAAWA,EAA0BD,MAAOA,GAAjBA,EAAMI,UCR9CQ,EAAc,WAAiC,IAAhCC,EAA+B,uDAAvB,GAAIC,EAAmB,uDAAN,EACnD,OAAOC,MAAM,8BAAD,OACoBF,EADpB,iBACkCC,EADlC,gGAGTE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GACJ,GAAyB,IAArBA,EAAKC,KAAKC,OACZ,MAAM,IAAIC,MAAJ,oCAAuCT,EAAvC,MAEN,OAAOM,EAAKC,S,iBCALG,EANA,SAAC,GAAD,IAAGX,EAAH,EAAGA,YAAH,OACb,wBAAQvB,KAAK,SAASJ,UAAWC,IAAOqC,OAAQlB,QAASO,EAAzD,2BCAaY,EAFA,kBAAM,8C,iBCGfC,EAAaC,SAASC,cAAc,eAErBC,E,4MAMnBC,YAAcC,sB,EAUdC,eAAiB,SAAA1D,GACf2D,QAAQC,IAAI5D,GAEG,WAAXA,EAAE6D,MAIN,EAAKnD,MAAMoD,W,EAGbC,oBAAsB,SAAA/D,GAChB,EAAKwD,YAAYQ,SAAWhE,EAAEiE,SAAW,EAAKT,YAAYQ,SAI9D,EAAKtD,MAAMoD,W,uDAvBb,WACEI,OAAOC,iBAAiB,UAAWrD,KAAK4C,kB,kCAG1C,WACEQ,OAAOE,oBAAoB,UAAWtD,KAAK4C,kB,oBAqB7C,WACE,IAAQW,EAAavD,KAAKJ,MAAlB2D,SACR,OAAOC,uBACL,qBACE1D,UAAWC,IAAO0D,QAClBC,IAAK1D,KAAK0C,YACVxB,QAASlB,KAAKJ,MAAMoD,QACpBW,KAAK,eAJP,SAME,qBAAK7D,UAAWC,IAAO0C,MAAvB,SAA+Bc,MAEjCjB,O,GA7C6B3B,a,gBCIdiD,E,4MAKnB7E,MAAQ,CACNwC,OAAQ,GACRI,WAAY,EACZ3C,OAAQ,GACRW,MAAO,KACPkE,WAAW,EACXC,aAAa,EACbC,aAAc,KACdC,WAAY,I,EAUdC,SAAW,SAAAjF,GACT,EAAKG,SAAS,CAAEH,SAAQuC,OAAQ,GAAII,WAAY,K,EAGlDuC,sBAAwB,WACtB,EAAKzC,aAAY,I,EAGnBA,YAAc,SAAA0C,GACZ,EAAKhF,SAAS,CAAE0E,WAAW,IAC3B,MAA+B,EAAK9E,MAA5BC,EAAR,EAAQA,OAAQ2C,EAAhB,EAAgBA,WAChByC,EACepF,EAAQ2C,GACpBE,MAAK,SAAAN,GAKJ,OAJA,EAAKpC,UAAS,SAAAJ,GAAK,MAAK,CACtBwC,OAAO,GAAD,mBAAMxC,EAAMwC,QAAZ,YAAuBA,IAC7BI,WAAY5C,EAAM4C,WAAa,MAE1BJ,EAAO,MAEf8C,OAAM,SAAA1E,GACL,EAAKR,SAAS,CAAEQ,aAEjB2E,SAAQ,WACP,EAAKnF,SAAS,CAAE0E,WAAW,OAE5BhC,MAAK,SAAA0C,GACJ,GAAIJ,EAAQ,CACKI,EAAPtD,GACRmC,OAAOoB,SAAS,CACdC,IAAKlC,SAASmC,gBAAgBC,aAC9BC,SAAU,gB,EAMpBC,QAAU,WAIR,OAHiB,EAAK9F,MAAMwC,OAAOuD,MAAK,SAAAjE,GACtC,OAAOA,EAAMI,KAAO,EAAKlC,MAAMgF,iB,EAKnCjD,UAAY,SAAA5B,GACV,EAAKC,SAAS,CACZ2E,aAAa,EACbC,aAAcgB,OAAO7F,EAAEE,cAAc6B,O,EAGzC+D,WAAa,kBAAM,EAAK7F,SAAS,CAAE2E,aAAa,K,uDAzDhD,c,gCACA,SAAmBmB,EAAWC,GACxBA,EAAUlG,SAAWgB,KAAKjB,MAAMC,QAClCgB,KAAKyB,aAAY,K,oBAwDrB,WACE,MAAyDzB,KAAKjB,MAAtD8E,EAAR,EAAQA,UAAWtC,EAAnB,EAAmBA,OAAQuC,EAA3B,EAA2BA,YAAaC,EAAxC,EAAwCA,aAExC,OACE,sBAAKjE,UAAWC,IAAO6D,IAAvB,UACG5D,KAAKjB,MAAMY,OACV,oBAAIG,UAAWC,IAAOJ,MAAtB,mDAIF,cAAC,EAAD,CAAWE,SAAUG,KAAKiE,WAC1B,cAAC,EAAD,CAAcnD,UAAWd,KAAKc,UAAWS,OAAQA,IAChDsC,GAAa,cAAC,EAAD,IACbtC,EAAOW,OAAS,EACf,cAAC,EAAD,CAAQT,YAAazB,KAAKkE,wBAE1B,qBAAKpE,UAAWC,IAAOoF,QAAvB,0DAIDrB,GACC,cAAC,EAAD,CAAOC,aAAcA,EAAcf,QAAShD,KAAKgF,WAAjD,SACE,qBAAK7D,IAAKnB,KAAK6E,UAAUO,cAAehE,IAAKpB,KAAK6E,UAAU7D,SAGhE,cAAC,IAAD,CAAgBqE,SAAS,aAAaC,UAAW,a,GApGxB3E,aAAZiD,EACZ2B,aAAe,GCPxBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFnD,SAASoD,eAAe,W","file":"static/js/main.37f9082b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2WRu_\",\"SearchForm\":\"Searchbar_SearchForm__22Uo6\",\"SearchFormButton\":\"Searchbar_SearchFormButton__KtgKL\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__cMKBZ\",\"SearchFormInput\":\"Searchbar_SearchFormInput__BXTc_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"App_error__3w5jd\",\"Warning\":\"App_Warning__3DZZP\",\"App\":\"App_App__1WA5Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__fNAU7\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2RHvT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2yUOv\",\"Modal\":\"Modal_Modal__1ZGo_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1YTFX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__ZB2-Q\"};","import { Component } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport styles from '../Searchbar/Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    search: '',\r\n  };\r\n  handleChange = e => {\r\n    this.setState({ search: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.search.trim() === '') {\r\n     return toast.error('Enter your request.');\r\n    }\r\n    this.props.onSubmit(this.state.search);\r\n    this.setState({ search: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.search}\r\n            name=\"search\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ image, openModal }) => {\r\n  const { webformatURL, tags } = image;\r\n\r\n  return (\r\n    <li id={image.id} onClick={openModal} className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.shape({\r\n    webformatURL: PropTypes.string,\r\n  }),\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, openModal }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {images.map(image => (\r\n        <ImageGalleryItem openModal={openModal} key={image.id} image={image} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","export const fetchImages = (query = '', pageNumber = 1) => {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${pageNumber}&key=22516391-185885990a61958acb3a57b33&image_type=photo&orientation=horizontal&per_page=12`,\r\n  )\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      if (data.hits.length === 0) {\r\n        throw new Error(`No photo on search query \"${query}\"`);\r\n      } else {\r\n        return data.hits;\r\n      }\r\n    });\r\n};\r\n\r\nexport { fetchImages as default };\r\n","import React from 'react';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ fetchImages }) => (\r\n  <button type=\"button\" className={styles.Button} onClick={fetchImages}>\r\n    Load more...\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import React from 'react';\r\n\r\nconst Loader = () => <div>Loading...</div>;\r\n\r\nexport default Loader;\r\n","import React, { Component, createRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nconst MODAL_ROOT = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    children: PropTypes.node.isRequired,\r\n  };\r\n\r\n  backdropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = e => {\r\n    console.log(e);\r\n\r\n    if (e.code !== 'Escape') {\r\n      return;\r\n    }\r\n\r\n    this.props.onClose();\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (this.backdropRef.current && e.target !== this.backdropRef.current) {\r\n      return;\r\n    }\r\n\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    return createPortal(\r\n      <div\r\n        className={styles.Overlay}\r\n        ref={this.backdropRef}\r\n        onClick={this.props.onClose}\r\n        role=\"presentation\"\r\n      >\r\n        <div className={styles.Modal}>{children}</div>\r\n      </div>,\r\n      MODAL_ROOT,\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from './Componnent/Searchbar/Searchbar';\nimport ImageGallery from './Componnent/ImageGallery/ImageGallery';\nimport * as imagesApi from './Componnent/Services/images-api';\nimport Button from './Componnent/Button/Button';\nimport Loader from './Componnent/Loader/Loader';\nimport Modal from './Componnent/Modal/Modal';\nimport styles from './App.module.css';\n\nexport default class App extends Component {\n  static defaultProps = {};\n\n  static propTypes = {};\n\n  state = {\n    images: [],\n    pageNumber: 1,\n    search: '',\n    error: null,\n    isLoading: false,\n    isModalOpen: false,\n    largeImageId: null,\n    largeImage: [],\n  };\n\n  componentDidMount() {}\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.search !== this.state.search) {\n      this.fetchImages(false);\n    }\n  }\n\n  onSearch = search => {\n    this.setState({ search, images: [], pageNumber: 1 });\n  };\n\n  fetchImagesWithScroll = () => {\n    this.fetchImages(true);\n  };\n\n  fetchImages = scroll => {\n    this.setState({ isLoading: true });\n    const { search, pageNumber } = this.state;\n    imagesApi\n      .fetchImages(search, pageNumber)\n      .then(images => {\n        this.setState(state => ({\n          images: [...state.images, ...images],\n          pageNumber: state.pageNumber + 1,\n        }));\n        return images[0];\n      })\n      .catch(error => {\n        this.setState({ error });\n      })\n      .finally(() => {\n        this.setState({ isLoading: false });\n      })\n      .then(firstLoadedImage => {\n        if (scroll) {\n          const { id } = firstLoadedImage;\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n      });\n  };\n\n  findPic = () => {\n    const largeImg = this.state.images.find(image => {\n      return image.id === this.state.largeImageId;\n    });\n    return largeImg;\n  };\n\n  openModal = e => {\n    this.setState({\n      isModalOpen: true,\n      largeImageId: Number(e.currentTarget.id),\n    });\n  };\n  closeModal = () => this.setState({ isModalOpen: false });\n\n  render() {\n    const { isLoading, images, isModalOpen, largeImageId } = this.state;\n\n    return (\n      <div className={styles.App}>\n        {this.state.error && (\n          <h2 className={styles.error}>\n            No pictures were found for your query\n          </h2>\n        )}\n        <Searchbar onSubmit={this.onSearch} />\n        <ImageGallery openModal={this.openModal} images={images} />\n        {isLoading && <Loader />}\n        {images.length > 0 ? (\n          <Button fetchImages={this.fetchImagesWithScroll} />\n        ) : (\n          <div className={styles.Warning}>\n            You have to write down right word for search\n          </div>\n        )}\n        {isModalOpen && (\n          <Modal largeImageId={largeImageId} onClose={this.closeModal}>\n            <img src={this.findPic().largeImageURL} alt={this.findPic().tags} />\n          </Modal>\n        )}\n        <ToastContainer position=\"top-center\" autoClose={2000} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}